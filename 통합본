
#include <Stdio.h>
#include <windows.h>
#include <string.h>
#include <stdlib.h>
int score=0; // 스코어 변수 선언
int life = 3;
int count = 1;
int lose_count = 0; // 진 횟수
int account_admin = 0; //로그인 저장값
int account_guest = 0; // 로그인 저장값
int main() {
	if (count == 1) {
		Login_Check();
	}
	if (account_admin) admin();
	if (account_guest) guest();
}
int Login_Check() {
	char id[10];
	char id_admin[10] = "admin";
	char id_guest[10] = "guest";
	int pw;
	while (1) {
		printf("======== LOGIN ========\n\nGuest ID : guest\nGuest PW : 1111\n\n");
		if (account_admin == 1) printf("Session 값 ( 마지막으로 로그인한 유저 ) : admin\n\n");
		else if (account_admin == 1) printf("Session 값 ( 마지막으로 로그인한 유저 ) :guest\n\n");
		printf("ID : ");
		scanf("%s", id);
		printf("PW : ");
		scanf("%d", &pw);
		if (strcmp(id, id_guest) == 0&&pw==1111) guest();
		else if (strcmp(id, id_admin) == 0 && pw == 1029) admin();
		else {
			system("cls");
			printf("Error : 계정이 없습니다!!\n");
		}
	}
}
int Setting() {
	int choice;
	int num;
	int score_ch; // 스코어 조작 선택지
	while(1){
	system("cls");
	printf("====Setting====\n\n1. Score 조작\n2. 취소\n::");
	scanf("%d", &choice);
		switch (choice) {
		case 1:
			system("cls");
			printf("Your Score is %d Point!\n1. 추가\n2. 감소\n::", score);
			scanf("%d", &score_ch);
			switch (score_ch)
			{
			case 1:
				printf("추가 할 점수 입력 : ");
				scanf("%d", &num);
				score += num;
				printf("Your Score is %d Point!\n\n", score);
				break;
			case 2:
				printf("감소 할 점수 입력 : ");
				scanf("%d", &num);
				score -= num;
				printf("Your Score is %d Point!\n\n", score);
				break;
			}
			break;
		case 2:
			admin();
			break;
		default:
			printf("다시 선택해주세요.\n");
			break;
		}
	}
}
int guest(){
	int choice;
	system("cls");
	account_guest++;
	count--;
	account_admin = 0;
	while (1) {
	printf("===Stat===\n\nHello Guest!\nUsername : guest\n1. 문제 풀기\n2. 전적 확인\n3. 로그아웃\n::");
	scanf("%d", &choice);
		switch (choice) {
		case 1:
			challenge();
			break;
		case 2:
			system("cls");
			printf("Your Score is %d Point!\nLose Count : %d\n\n", score, lose_count);
			system("pause");
			system("cls");
			break;
		case 3:
			Login_Check();
			break;
		default:
			printf("다시 선택해주세요.\n");
			break;
		}
	}
}
int admin() {
	int choice;
	system("cls");
	account_admin++;
	count--;
	account_guest = 0;
	while (1) {
	printf("===Stat===\n\nHello Admin!\nUsername : admin\n1. 문제 풀기\n2. 전적 확인\n3. 설정\n4. 로그아웃\n::");
	scanf("%d", &choice);
		switch (choice) {
		case 1:
			challenge();
			break;
		case 2:
			system("cls");
			printf("Your Score is %d Point!\nLose Count : %d\n\n", score,lose_count);
			break;
		case 3:
			Setting();
			break;
		case 4:
			Login_Check();
			break;
		default:
			printf("다시 선택해주세요.\n");
	}
	}
	}
int challenge() {
	system("cls");
	printf("문제풀이를 시작합니다.\n\nLife = %d\nScore = %d\n\n",life,score);
	system("pause");
	pro1();
	pro2();
	pro3();
	pro4();
	pro5();
	pro6();
	pro7();
	pro8();
}
int pro1() {
	char name[10]; //입력 텍스트
	char name_a[10] = "이건";
	char name_b[300] = "건";
	while (1) {
		system("pause");
		system("cls");
		printf("우리학교 최고의 파오후는??\n::");
		scanf("%s", name);
		if (strcmp(name, name_a) == 0||strcmp(name,name_b)==0) // 문자열 비교
		{
			printf("맞습니다!!!\n");
			score += 50;
			printf("Score 50점 추가\n\n");
			return 0;
		}
		else {
			life--;
			if (life == 0) {
				lose_count++;
				printf("Life가 모두 소진되었습니다. 다시 계정창으로 갑니다.\n");
			}
			else printf("틀렸습니다. 남은 기회는 %d번 Score는 %d Point 입니다.\n",life,score);
		}
		}
	}
int pro2() {
	char name[10]; //입력 텍스트
	char name_a[10] = "한글";
	while (1) {
		system("pause");
		system("cls");
		printf("형민이가 가장 자신있어 했지만 은근히 못하는 것은??\n::");
		scanf("%s", name);
		if (strcmp(name, name_a) == 0) // 문자열 비교
		{
			printf("맞습니다..이새끼는 한글로 부심을 너무 부려서 질릴정도 입니다.\n");
			score += 100;
			printf("Score 100점 추가\n\n");
			return 0;
		}
		else {
			life--;
			if (life == 0) {
				lose_count++;
				printf("Life가 모두 소진되었습니다. 다시 계정창으로 갑니다.\n");
			}
			else printf("틀렸습니다. 남은 기회는 %d번 Score는 %d Point 입니다.\n", life, score);
		}
	}
}
int pro3() {
	char name[10]; //입력 텍스트
	char name_a[10] = "호구마";
	while (1) {
		system("pause");
		system("cls");
		printf("[중간_Boss] 다음 초성을 맞추세요.\nㅎㄱㅁ\n::");
		scanf("%s", name);
		if (strcmp(name, name_a) == 0) // 문자열 비교
		{
			printf("맞습니다. 오사쯔는 하스를 한시 빨리 끊어야 합니다.\n");
			score += 100;
			printf("Score 100점 추가\n\n");
			return 0;
		}
		else {
			life--;
			if (life == 0) {
				lose_count++;
				printf("Life가 모두 소진되었습니다. 다시 계정창으로 갑니다.\n");
			}
			else printf("틀렸습니다. 남은 기회는 %d번 Score는 %d Point 입니다.\n", life, score);
		}
	}
}
int pro4() {
	int ans; //입력 텍스트
	while(1) {
		system("pause");
		system("cls");
		printf("다음중 2016년에 만들어진 별명이 아닌것을 고르시오\n1. 쥐석\n2. 매지석\n3. 가!자지석아\n4.쥐식\n::");
		scanf("%d",&ans);
		if (ans==3) // 문자열 비교
		{
			printf("가! 자지석아\n");
			score += 50;
			printf("Score 50점 추가\n\n");
			return 0;
		}
		else {
			life--;
			if (life == 0) {
				lose_count++;
				printf("Life가 모두 소진되었습니다. 다시 계정창으로 갑니다.\n");
			}
			else printf("틀렸습니다. 남은 기회는 %d번 Score는 %d Point 입니다.\n", life, score);
		}
	}
}
int pro5() {
	int ans1;
	while (1) {
		system("pause");
		system("cls");
		printf("형민이의 지식력은? 정답률98\%\n");
		printf("1.영유아  2.초등학생 3.중학생 4.고등학생\n");
		scanf("%d", &ans1);
		Sleep(400);
		printf("채점중\n");
		if (ans1 == 2)
		{
			printf("맞습니다\n"); //맞으면 출력
			printf("아는거라곤 욕하기랑 c언어 변수선언입니다.\n");
			score += 10;
			printf("Score 10점 추가\n\n");
			return 0;
		}
		else {
			life--;
			if (life == 0) {
				lose_count++;
				printf("Life가 모두 소진되었습니다. 다시 계정창으로 갑니다.\n");
			}
			else printf("틀렸습니다. 남은 기회는 %d번 Score는 %d Point 입니다.\n", life, score);
		}
	}

}
int pro6() {
	char ans2[10] = "박신우"; //정답  
	char ans2_1[10]; //받을값
					 //문제2번변수 선언
	while (1) {
		system("pause");
		system("cls");
		printf("2번째 문제입니다.(주관식)\n");
		Sleep(800);
		printf("우리반 대표 춤꾼과 동시에 PL에서 짤릴 위기인 사람은?\n");
		scanf("%s", ans2_1);
		Sleep(800);
		printf("채점중..\n");
		if (strcmp(ans2, ans2_1) == 0) //문자열 비교
		{
			printf("맞습니다\n");
			printf("호구마는 하스스톤만 맨날 하다 인생이 좆망합니다\n");
			score += 100;
			printf("Score 100점 추가\n\n");
			return 0;
		}
		else {
			life--;
			if (life == 0) {
				lose_count++;
				printf("Life가 모두 소진되었습니다. 다시 계정창으로 갑니다.\n");
			}
			else printf("틀렸습니다. 남은 기회는 %d번 Score는 %d Point 입니다.\n", life, score);
		}
	}
}
int pro7() {
	char name[50];
	char name_a[50] = "고구마는몸에좋다";

	while (1) {
		system("pause");
		system("cls");
		printf("메모지에 \"Cs1 Ce5 	 Cs1 Ce7 	 Cs5 Ce1  	Cs2 Ce9 Cs2  	Cs5 Ce5 Cs5  	Cs8 Ce3 Ce10  	Cs9 Ce5 Cs14  	Cs3 Ce1\"라고 써있다. \n 과연 무슨뜻 일까?\nCs : Consonant, Ce : Collection \n::");
		scanf("%s", name);

		if (strcmp(name, name_a) == 0)
		{
			printf("축하합니다 정답입니다.\n");
			score += 150;
			printf("Score 150점 추가\n\n");
			return 0;
		}
		else {
			life--;
			if (life == 0) {
				lose_count++;
				printf("Life가 모두 소진되었습니다. 다시 계정창으로 갑니다.\n");
			}
			else printf("틀렸습니다. 남은 기회는 %d번 Score는 %d Point 입니다.\n", life, score);
		}
	}
}
int pro8() {
	char name[10];
	char name_a[10] = "911테러";
	while (1) {
		system("pause");
		system("cls");
		printf("오사마 빈 라덴의 테러조직인 알 카에다 등 이슬람 테러조직이 벌인 사건은??\n::");
		scanf("%s", name);

		if (strcmp(name, name_a) == 0)
		{
			printf("맞습니다.\n");
			score += 70;
			printf("Score 70점 추가\n\n");
			return 0;
		}
		else {
			life--;
			if (life == 0) {
				lose_count++;
				printf("Life가 모두 소진되었습니다. 다시 계정창으로 갑니다.\n");
			}
			else printf("틀렸습니다. 남은 기회는 %d번 Score는 %d Point 입니다.\n", life, score);
		}
	}
}

/*

 문제점
 - 로그인 실패시 오류
 - 각 계정마다 스코어가 공유됨 ( 따로 변수를 만들어야 함 )
 
 */
